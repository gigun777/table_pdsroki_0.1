<!doctype html>
<html lang="uk">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>ColumnSettingsUI Demo</title>
  <link rel="stylesheet" href="./column_settings_modal.css"/>
</head>
<body style="font-family:system-ui; padding:20px;">
  <h2>ColumnSettingsUI Demo</h2>
  <p>–î–µ–º–æ –º–æ–¥–∞–ª–∫–∏ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∫–æ–ª–æ–Ω–æ–∫.</p>
  <button id="open" style="padding:10px 12px;">–í—ñ–¥–∫—Ä–∏—Ç–∏ –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è ‚Üí –ö–æ–ª–æ–Ω–∫–∏</button>

  <!-- Column Settings Modal markup: include once -->
<div id="dvColSettingsOverlay" class="dvcs-overlay" aria-hidden="true">
  <div class="dvcs-modal" role="dialog" aria-modal="true" aria-labelledby="dvColSettingsTitle">
    <div class="dvcs-header">
      <div>
        <div class="dvcs-title" id="dvColSettingsTitle">–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è ‚Üí –ö–æ–ª–æ–Ω–∫–∏</div>
        <div class="dvcs-subtitle" id="dvColSettingsSubtitle">–ù–∞–∑–≤–∞ ‚Ä¢ —Ç–∏–ø ‚Ä¢ —à–∏—Ä–∏–Ω–∞ ‚Ä¢ –≤–∏–¥–∏–º—ñ—Å—Ç—å ‚Ä¢ –ø–æ—Ä—è–¥–æ–∫</div>
      </div>
      <button class="dvcs-close" data-dvcs-close title="–ó–∞–∫—Ä–∏—Ç–∏">‚úï</button>
    </div>

    <div class="dvcs-body">
      <div class="dvcs-grid">
        <div class="dvcs-panel">
          <div class="dvcs-panel-h">
            <span>–°–ø–∏—Å–æ–∫ –∫–æ–ª–æ–Ω–æ–∫</span>
            <input id="dvcsSearch" class="dvcs-search" placeholder="–ü–æ—à—É–∫..." />
          </div>
          <div class="dvcs-panel-b">
            <div id="dvcsList" class="dvcs-list"></div>
            <div class="dvcs-row" style="margin-top:12px;">
              <button id="dvcsAdd" class="dvcs-btn">+ –î–æ–¥–∞—Ç–∏</button>
              <button id="dvcsDup" class="dvcs-btn">‚éò –î—É–±–ª—é–≤–∞—Ç–∏</button>
              <button id="dvcsDel" class="dvcs-btn dvcs-danger">üóë –í–∏–¥–∞–ª–∏—Ç–∏</button>
            </div>
          </div>
        </div>

        <div class="dvcs-panel">
          <div class="dvcs-panel-h">
            <span>–†–µ–¥–∞–∫—Ç–æ—Ä –∫–æ–ª–æ–Ω–∫–∏</span>
            <div class="dvcs-order">
              <button id="dvcsUp" class="dvcs-mini" title="–í–∏—â–µ">‚Üë</button>
              <button id="dvcsDown" class="dvcs-mini" title="–ù–∏–∂—á–µ">‚Üì</button>
            </div>
          </div>
          <div class="dvcs-panel-b">
            <div class="dvcs-row">
              <div class="dvcs-col" style="flex:1; min-width:260px;">
                <div class="dvcs-label">–ù–∞–∑–≤–∞</div>
                <input id="dvcsName" class="dvcs-input" placeholder="–ù–∞–ø—Ä.: –î–∞—Ç–∞" />
              </div>
              <div class="dvcs-col" style="min-width:220px;">
                <div class="dvcs-label">–ö–ª—é—á (id)</div>
                <input id="dvcsId" class="dvcs-input" placeholder="c_date" />
              </div>
            </div>

            <div class="dvcs-row" style="margin-top:10px;">
              <div class="dvcs-col">
                <div class="dvcs-label">–¢–∏–ø</div>
                <select id="dvcsType" class="dvcs-select">
                  <option value="text">–¢–µ–∫—Å—Ç</option>
                  <option value="number">–ß–∏—Å–ª–æ</option>
                  <option value="date">–î–∞—Ç–∞</option>
                  <option value="datetime">–î–∞—Ç–∞+—á–∞—Å</option>
                  <option value="select">–°–ø–∏—Å–æ–∫ (select)</option>
                  <option value="checkbox">–ü—Ä–∞–ø–æ—Ä–µ—Ü—å</option>
                  <option value="multiline">–ë–∞–≥–∞—Ç–æ—Ä—è–¥–∫–æ–≤–∏–π —Ç–µ–∫—Å—Ç</option>
                </select>
              </div>

              <div class="dvcs-col">
                <div class="dvcs-label">–®–∏—Ä–∏–Ω–∞ (px)</div>
                <input id="dvcsWidth" class="dvcs-input" type="number" min="40" step="10" placeholder="160" />
              </div>

              <div class="dvcs-col">
                <div class="dvcs-label">–í–∏—Ä—ñ–≤–Ω—é–≤–∞–Ω–Ω—è</div>
                <select id="dvcsAlign" class="dvcs-select">
                  <option value="left">–õ—ñ–≤–æ—Ä—É—á</option>
                  <option value="center">–ü–æ —Ü–µ–Ω—Ç—Ä—É</option>
                  <option value="right">–ü—Ä–∞–≤–æ—Ä—É—á</option>
                </select>
              </div>
            </div>

            <div class="dvcs-row" style="margin-top:10px;">
              <label class="dvcs-check"><input id="dvcsVisible" type="checkbox" checked /> –ü–æ–∫–∞–∑—É–≤–∞—Ç–∏ –∫–æ–ª–æ–Ω–∫—É</label>
              <label class="dvcs-check"><input id="dvcsWrap" type="checkbox" /> –ü–µ—Ä–µ–Ω–æ—Å —Ä—è–¥–∫–∞ (wrap)</label>
              <label class="dvcs-check"><input id="dvcsRequired" type="checkbox" /> –û–±–æ–≤‚Äô—è–∑–∫–æ–≤–∞</label>
            </div>

            <div class="dvcs-row" style="margin-top:10px;">
              <div class="dvcs-col" style="flex:1; min-width:260px;">
                <div class="dvcs-label">–§–æ—Ä–º–∞—Ç (–¥–ª—è number/date)</div>
                <input id="dvcsFormat" class="dvcs-input" placeholder="–ù–∞–ø—Ä.: 0.00 –∞–±–æ YYYY-MM-DD" />
              </div>
              <div class="dvcs-col" style="flex:1; min-width:260px;">
                <div class="dvcs-label">–ó–Ω–∞—á–µ–Ω–Ω—è –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º</div>
                <input id="dvcsDefault" class="dvcs-input" placeholder="–ù–∞–ø—Ä.: —Å—å–æ–≥–æ–¥–Ω—ñ / 0 / —Ç–µ–∫—Å—Ç" />
              </div>
            </div>

            <div class="dvcs-row" style="margin-top:10px;">
              <div class="dvcs-col" style="flex:1; min-width:260px;">
                <div class="dvcs-label">–û–ø—Ü—ñ—ó (–¥–ª—è select) ‚Äî —á–µ—Ä–µ–∑ ‚Äú;‚Äù</div>
                <input id="dvcsOptions" class="dvcs-input" placeholder="–ù–∞–ø—Ä.: –ù–æ–≤–µ;–í —Ä–æ–±–æ—Ç—ñ;–ó–∞–∫—Ä–∏—Ç–æ" />
              </div>
            </div>

            <div id="dvcsPreview" class="dvcs-preview"></div>
            <div class="dvcs-hint">–ü–æ—Ä—è–¥–æ–∫ –∫–æ–ª–æ–Ω–æ–∫ –≤–ø–ª–∏–≤–∞—î –Ω–∞ —ñ–Ω–¥–µ–∫—Å–∏ –∫–ª—ñ—Ç–∏–Ω–æ–∫ —É —Ä—è–¥–∫—É (row[]).</div>
          </div>
        </div>
      </div>

      <div class="dvcs-alert" id="dvcsMsg" style="display:none;"></div>
    </div>

    <div class="dvcs-footer">
      <button class="dvcs-btn" data-dvcs-close>–°–∫–∞—Å—É–≤–∞—Ç–∏</button>
      <button id="dvcsReload" class="dvcs-btn">‚Üª –ü–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏</button>
      <button id="dvcsSave" class="dvcs-btn dvcs-primary">üíæ –ó–±–µ—Ä–µ–≥—Ç–∏</button>
    </div>
  </div>
</div>


  <script src="./column_settings_modal.js"></script>
  <script>
    let sheet = {
      key: "inbox",
      name: "–í—Ö—ñ–¥–Ω—ñ",
      columns: [
        { id:"c_date", name:"–î–∞—Ç–∞", type:"date", width:120, align:"left", visible:true, wrap:false, required:true, format:"YYYY-MM-DD", default:"", options:[] },
        { id:"c_name", name:"–ü–Ü–ë", type:"text", width:220, align:"left", visible:true, wrap:false, required:true },
        { id:"c_topic", name:"–¢–µ–º–∞", type:"multiline", width:260, align:"left", visible:true, wrap:true, required:false, subrows:true },
        { id:"c_sum", name:"–°—É–º–∞", type:"number", width:120, align:"right", visible:true, wrap:false, required:false, format:"0.00", default:"0" },
        { id:"c_state", name:"–°—Ç–∞–Ω", type:"select", width:140, align:"center", visible:true, wrap:false, required:false, options:["–ù–æ–≤–µ","–í —Ä–æ–±–æ—Ç—ñ","–ó–∞–∫—Ä–∏—Ç–æ"], default:"–ù–æ–≤–µ" }
      ]
    };

    document.getElementById("open").onclick = () => {
      ColumnSettingsUI.open({
        sheet,
        onSave: (newColumns) => {
          console.log("SAVE columns:", newColumns);
          sheet.columns = newColumns;
          alert("–ó–±–µ—Ä–µ–∂–µ–Ω–æ. –î–∏–≤–∏—Å—å console.");
        }
      });
    };
  </script>
</body>
</html>
